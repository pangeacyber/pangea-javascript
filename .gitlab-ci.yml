default:
  image: node:20.11.1@sha256:f3299f16246c71ab8b304d6745bb4059fa9283e8d025972e28436a9f9b36ed24
  tags:
    - pangea-internal

stages:
  - build
  - lint
  - unit_tests
  - integration_tests
  - publish
  - tag_release
  - examples

.packages_base:
  before_script:
    - yarn install
  cache:
    - key:
        files:
          - yarn.lock
      paths:
        - node_modules

lint_packages:
  extends: .packages_base
  stage: lint
  script:
    - yarn lint

include:
  - /packages/react-mui-shared/.gitlab-ci.yml
  - /packages/react-mui-branding/.gitlab-ci.yml
  - /packages/react-mui-authn/.gitlab-ci.yml
  - /packages/react-mui-audit-log-viewer/.gitlab-ci.yml
  - /packages/react-mui-store-file-viewer/.gitlab-ci.yml
  - /packages/react-auth/.gitlab-ci.yml
  - /packages/pangea-node-sdk/.gitlab-ci.yml
  - /packages/vanilla-js/.gitlab-ci.yml
  - /examples/.examples-ci.yml
